/* styles.css – KORRIGIERTE & BEREINIGTE VERSION */
:root {
  --brand: #1665d8; --brand2: #0f4fb3; --ribbon-fg: #fff; --panel: #ffffff;
  --border: #e5e7eb; --text: #111827; --muted: #6b7280; --danger: #dc2626;
}
/* ... (Die meisten Ihrer Stile wie .app, .ribbon, .toolbar, .btn, table etc. können unverändert bleiben) ... */
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:#fafafa;color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Helvetica,Arial,sans-serif}
.app{max-width:1240px;margin:0 auto;padding-bottom:32px}
/* ... Fügen Sie hier Ihre bestehenden, unveränderten Stile ein ... */

/* KORRIGIERTE STILE FÜR STAMMBAUM & DRUCK */
.tree-panel {
  padding: 12px;
  border: 1px solid var(--border);
  border-radius: 8px;
  background: #f8fafc;
  margin: 12px;
}
#treeContainer {
  width: 100%;
  height: 70vh;
  overflow: hidden; /* Scrollen wird per JS (Pan) gesteuert */
  cursor: grab;
  position: relative;
}
#tree, #tree svg {
  width: 100%;
  height: 100%;
}
.node {
  cursor: pointer;
  transition: transform 0.1s ease-in-out;
}
.node:hover {
  transform: translateY(-2px);
  filter: drop-shadow(0 4px 6px rgba(0,0,0,0.1));
}

/* KORRIGIERTE & VEREINFACHTE DRUCK-STILE */
body.printing-mode {
    background: white !important;
}
/* Versteckt alles, während der Druck vorbereitet wird */
body.printing-mode > * {
    display: none !important;
}
/* Zeigt nur den Container an, der das zu druckende Element enthält */
body.printing-mode .print-container {
    display: block !important;
    position: fixed !important; /* Wichtig für html2canvas */
    top: 0;
    left: 0;
    width: auto !important; /* Passt sich dem Inhalt an */
    height: auto !important;
    padding: 20px !important;
    background: white !important;
    border: none !important;
    box-shadow: none !important;
    z-index: 9999;
}
/* Stile für den Baum im Druckmodus */
.printing-mode #tree svg {
    background-color: white !important;
}
.printing-mode .node text {
    font-size: 10pt !important;
    fill: #000 !important;
}
.printing-mode .node rect {
    stroke: #000 !important;
}
.printing-mode path, .printing-mode line {
    stroke: #333 !important;
}