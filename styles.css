/* styles.css – KORRIGIERTE VERSION */
:root {
  /* ... (alle Ihre Farbvariablen bleiben gleich) ... */
  --brand: #1665d8;
  --panel: #ffffff;
  --border: #e5e7eb;
}
/* ... (alle Ihre Basis-Styles für body, .app, .ribbon etc. bleiben gleich) ... */

/* Tree panel - KORREKTUREN FÜR ÜBERLAPPUNG & INTERAKTION */
.tree-panel {
  padding: 8px 12px;
  border: 1px solid var(--border);
  border-radius: 8px;
  background: #f8fafc;
  margin: 12px;
}

#treeContainer {
  width: 100%;
  height: 65vh; /* Feste Höhe für den Container */
  overflow: hidden; /* Scrollen wird per JS (Pan) gesteuert */
  cursor: grab;
  position: relative;
}

#tree {
  width: 100%;
  height: 100%;
}
#tree svg {
  width: 100%;
  height: 100%;
}

.node {
  cursor: pointer;
  transition: transform 0.2s ease;
}
.node:hover {
  transform: translateY(-2px);
}

/* ... (alle Ihre Dialog- und Formular-Styles bleiben gleich) ... */

/* KORRIGIERTE DRUCK-STILE */
/* Diese Klasse wird per JS vor dem Aufruf von html2canvas auf den body gesetzt */
body.printing-mode {
    background: white !important;
    font-size: 10pt;
    color: #000 !important;
}

/* Versteckt alles, was nicht gedruckt werden soll */
body.printing-mode > *:not(.print-this-parent) {
    display: none !important;
}

/* Der direkte Container des zu druckenden Elements wird sichtbar gemacht */
body.printing-mode .print-this-parent {
    display: block !important;
    position: absolute !important;
    top: 0;
    left: 0;
    width: 100% !important;
    height: auto !important;
    box-shadow: none !important;
    border: none !important;
    margin: 0 !important;
    padding: 20px !important; /* Etwas Rand im PDF */
    background: white !important;
}

/* Stellt sicher, dass das Element selbst korrekt skaliert wird */
.print-this-parent .print-this {
    overflow: visible !important;
    width: 100% !important;
    height: auto !important;
    max-height: none !important;
}

/* Spezifische Stile für den Baum-Druck im PDF */
.printing-mode #treeContainer {
    height: auto !important;
    overflow: visible !important;
}
.printing-mode .node text {
    font-size: 10pt !important; /* Ggf. anpassen für bessere Lesbarkeit */
    fill: #000 !important;
}
.printing-mode .node rect {
    stroke: #000 !important;
}
.printing-mode path,
.printing-mode line {
    stroke: #333 !important;
    stroke-width: 1.5px !important;
}